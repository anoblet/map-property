<link rel="import" href="../polymer/polymer-element.html">

<dom-module id="map-property">
    <script>
        class MapProperty extends Polymer.Element {
            static get is() {
                return 'map-property';
            }
            static get properties() {
                return {
                    source: {
                        type: Object,
                        notify: true
                    },
                    target: {
                        type: Object,
                        notify: true
                    }
                }
            }

            static get observers() {
                return [
                    "_sourceChanged(source.*)",
                    "_targetChanged(target.*)"
                ]
            }

            _sourceChanged(change) {
                console.log("Source changed");
                console.log(change.path);
                let nPath = change.path.replace("source", "target");
                this.set(nPath, change.value);
                // this.set("target", this.source);
            }

            _targetChanged(change) {
                console.log("Target changed");
                console.log(change.path);
                let nPath = change.path.replace("target", "source");
                this.set(nPath, change.value);
                //this.set("source", this.target);
            }
        }
        window.customElements.define(MapProperty.is, MapProperty);
    </script>
</dom-module>
